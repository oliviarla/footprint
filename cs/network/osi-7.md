# OSI 7계층

<figure><img src="../../.gitbook/assets/image (1) (1) (1) (1) (1) (1) (1) (1) (1).png" alt=""><figcaption></figcaption></figure>

* 각 레이어의 프로토콜은 하위 레이어의 프로토콜이 제공하는 기능을 사용해 동작한다.
* 데이터의 앞쪽에 붙는 것은 헤더이고, 뒤쪽에 붙는 것은 트레일러이다.

### 7계층: 응용 계층

* 응용 프로그램과 통신 프로그램 사이를 연결
* 애플리케이션 목적에 맞는 통신 방법 제공
* HTTP, DNS, SMTP, FTP
* 어떻게 데이터가 오고가는지는 관여하지 않는다.

### 6계층: 표현 계층

* 애플리케이션 간 통신에서 메시지 포맷 관리
* 데이터를 어떻게 표현하는지 정의한다.
* 응용 계층에서 생성된 데이터를 다른 컴퓨터가 이해할 수 있는 형태로 변환
* 암호화, 인코딩, 데이터 압축 기능 지원

### 5계층: 세션 계층

*   애플리케이션 간 통신에서 세션을 관리한다.

    > 세션: 데이터가 실질적으로 이동하는 통로
* 통신의 시작과 종료를 정의한다.
* 메시지: 세션 계층 데이터
* RPC

### 4계층: 전송 계층

* 애플리케이션 간 통신을 담당한다.
* 목적지 애플리케이션으로 데이터를 어떤 방식으로 전송할 지 담당한다.
* 세그먼트: 전송 계층의 데이터 헤더에는 포트/소켓 주소가 포함
* 종단간 (End to End) 데이터 통신 보장
* 흐름 제어와 오류 제어 등을 통해 데이터 통신 보장
* 지연에 따른 왜곡 및 대역폭 부족 문제 해결
* 동시에 여러 개의 논리적 연결 지원
* 사용자 데이터 분할과 재조립을 통해 과부하를 예방
* TCP, UDP

### 3계층: 네트워크 계층

* 호스트 간의 통신 담당
* IP 주소를 기반으로 패킷을 전달하는 계층
* 패킷: 네트워크 계층의 데이터
* 네트워크 간의 최적의 경로를 결정한다.
* LAN 구간(라우터와 PC 의 연결구간)과 WAN 구간(라우터와 라우터 연결 구간) 연결
* 라우터
  * 패킷을 수신하면 어떤 경로로 패킷을 전송할지 라우터 프로토콜에 따라 판단
  * 라우터는 LAN 구간의 통신을 위해 MAC 주소 보유
  * 주요 기능: 패킷 전달, 라우팅, 논리적인 주소 사용, IP 주소를 사용하여 사용자 데이터를 목적지로 전달
  * 논리적 링크와 물리적 링크 함께 사용
* 네트워크 계층의 프로토콜
  * IP: v4, v6 보유
  * ARP: IP 주소를 기반으로 MAC 주소 찾을 때 사용
  * RARP: MAC 주소 기반으로 IP 주소 찾을 때 사용

### 2계층: 데이터링크 계층

* 직접 연결된 네트워크 장치 간의 데이터 전송 담당
* ARP 프로토콜로 IP 주소를 MAC주소로 변환해, MAC 주소 기반으로 통신한다.
* 프레이밍(Framing), 흐름 제어, 오류 제어, 접근 제어, 동기화
* 프레임
  * 2계층에서 전송되는 데이터
  * 프레임의 헤더에는 송신 및 수신 장치의 주소가 포함
    * 트레일러에는 오류 검출을 위한 오류 검출 코드 포함
* MAC주소(Media Access Control)
  * 스위치가 프레임을 주고받을 때 사용하는 주소
  * 48bit 의 16 진수로 표현됨
  * 소프트웨어적으로만 주소 변경 가능

### 1계층: 물리계층

* bit 단위의 사용자 데이터를 전송하는 계층
* UTP 케이블 사용 -> 설치 용이, 간섭에 약함 (Direct: 서로 다른 계층의 장치 연결, Cross: 동일 계층 장치 연결)

### 통신 예제

1. 데이터를 전송하고자 할 때 실제 메시지에 7계층부터 1계층까지 헤더를 점차 붙인다. (캡슐화)
2. 라우터에서는 전송받은 데이터를 데이터 링크 레이어를 거쳐 네트워크 레이어까지 올려 목적지의 IP 주소를 확인한 후 다시 물리 계층까지 내려준다.
3. 목적지까지 데이터가 전송되었으면, 각 계층의 헤더를 분리해내면서 레이어 계층을 올린다.(역캡슐화) 최종적으로 목적지 애플리케이션은 순수한 메시지만 받게 된다.



#### 출처

[https://www.youtube.com/watch?v=6l7xP7AnB64\&t=382s](https://www.youtube.com/watch?v=6l7xP7AnB64\&t=382s)

[https://www.geeksforgeeks.org/layers-of-osi-model/](https://www.geeksforgeeks.org/layers-of-osi-model/)
